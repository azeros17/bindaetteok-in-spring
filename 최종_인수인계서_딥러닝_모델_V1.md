# ğŸ“˜ ì–´ìš¸ë§ 12ì‹œê°„ ë”¥ëŸ¬ë‹ ì˜ˆì¸¡ ë° ë°°ì°¨ ì‹œìŠ¤í…œ ì¸ìˆ˜ì¸ê³„ì„œ (Transformer Ver.)

## 1. í”„ë¡œì íŠ¸ ê°œìš” (Overview)
ë³¸ ëª¨ë“ˆì€ ê¸°ì¡´ì˜ '30ë¶„ ë‹¨ê¸° ë°˜ì‘í˜•(SOPA)' ì‹œìŠ¤í…œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê³ , **12ì‹œê°„ í›„ì˜ ìì „ê±° ê³¼ë¶€ì¡±ì„ ì„ ì œì ìœ¼ë¡œ ì˜ˆì¸¡**í•˜ì—¬ ê³¨ë“ íƒ€ì„ì„ í™•ë³´í•˜ê¸° ìœ„í•´ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. 
ìµœì‹  **Transformer (Self-Attention)** ì•„í‚¤í…ì²˜ë¥¼ ë„ì…í•˜ì—¬ ì‹œê°„ì˜ íë¦„ê³¼ ì¥ê¸°ì ì¸ ì˜ì¡´ì„±(Long-term Dependency)ì„ í•™ìŠµí–ˆìŠµë‹ˆë‹¤.

---

## 2. í•µì‹¬ ì„±ê³¼ (Key Performance)
ì‹¤ì œ 2023-2024ë…„ ë°ì´í„°ë¡œ í•™ìŠµí•˜ê³ , 2025ë…„ 3ì›” ë°ì´í„°ë¥¼ í†µí•´ ê²€ì¦(Backtesting)í•œ ê²°ê³¼ì…ë‹ˆë‹¤.

| êµ¬ë¶„ | ì§€í‘œ ê°’ | ë¹„ê³  |
| :--- | :--- | :--- |
| **ì •í™•ë„ (RMSE)** | **10.59** (íŠ¸ëŸ­ ì•½ 1ëŒ€ ë¶„ëŸ‰ ì˜¤ì°¨) | ê¸°ì¡´ LSTM(11.90) ëŒ€ë¹„ ì•½ **11% ì„±ëŠ¥ í–¥ìƒ** |
| **ì„ ì œ ëŒ€ì‘ ì‹œê°„** | **15:00 (ì˜¤í›„ 3ì‹œ)** | í‡´ê·¼ê¸¸(17ì‹œ~) ë° ìµì¼ ì¶œê·¼ê¸¸(08ì‹œ) ìˆ˜ìš” ë™ì‹œ ì»¤ë²„ |
| **ìš´ì˜ ê·œëª¨ ë¶„ì„** | **ì•½ 20,000 ëŒ€** (12ì‹œê°„ ì´ ì´ë™ëŸ‰) | ì„¸ì¢…ì‹œ ì „ì²´ 12ì‹œê°„ ìì „ê±° ì´ë™ ê·œëª¨ ì˜ˆì¸¡ê°’ |
| **ì¶œë ¥ í˜•íƒœ** | **ì •ìˆ˜(Integer)** ê¸°ë°˜ | "29.7ëŒ€" â†’ **"30ëŒ€"**ë¡œ ì§ê´€ì  ì„œë¹™ |

> **[ì°¸ê³ ] Early Stopping ì ìš©**: ê³¼ì í•©(Overfitting) ë°©ì§€ë¥¼ ìœ„í•´ í•™ìŠµì´ 5íšŒ ì´ìƒ ê°œì„ ë˜ì§€ ì•Šìœ¼ë©´ ìë™ ì¡°ê¸° ì¢…ë£Œ(Epoch 11 ì¤‘ë‹¨)í•˜ì—¬ ìµœì  ëª¨ë¸ì„ ì €ì¥í•©ë‹ˆë‹¤.

---

## 3. ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤: 2025-03-10 (ì›”)
**"ê°œê°• ì‹œì¦Œ ì›”ìš”ì¼ ì˜¤í›„ 3ì‹œ, ìš°ë¦¬ëŠ” ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ê°€?"**ì— ëŒ€í•œ ì‹œìŠ¤í…œì˜ ë‹µë³€ì…ë‹ˆë‹¤.

### 3.1. ìƒí™© ì„¤ì •
*   **ë‚ ì§œ**: 2025ë…„ 3ì›” 10ì¼ (ì›”ìš”ì¼)
*   **ì˜ì‚¬ê²°ì • ì‹œê°**: 15:00 (ì˜¤í›„ 3ì‹œ)
*   **ëª©í‘œ**: í‡´ê·¼ ì‹œê°„ëŒ€ ë°œìƒí•  ìˆ˜ê¸‰ ë¶ˆê· í˜• ì‚¬ì „ ì°¨ë‹¨

### 3.2. ëª¨ë¸ ì˜ˆì¸¡ ë° ëŒ€ì‘ ê²°ê³¼
1.  **ì„¸ì¢…ì‹œì²­ (Blackhole)**: ` -19 ëŒ€` (ë¶€ì¡±)
    *   *íŒë‹¨*: í‡´ê·¼ ì‹œê°„ëŒ€ ë°˜ë‚©ë³´ë‹¤ ëŒ€ì—¬ê°€ ì••ë„ì ì¼ ê²ƒì„.
    *   *ë‹¨ê¸° ì „ëµ*: **íŠ¸ëŸ­ 3ëŒ€**ê°€ 15ëŒ€ì”© ì‹£ê³  ê°€ì„œ ë¯¸ë¦¬ 45ëŒ€ë¥¼ ê¹”ì•„ë‘ëŠ” ê³µê²©ì  ë°°ì°¨ ìˆ˜í–‰.
2.  **í˜¸ìˆ˜ê³µì› (Hotspot)**: `+11 ëŒ€` (ê³¼ì‰)
    *   *íŒë‹¨*: ì˜¤í›„ ì‹œê°„ëŒ€ ì‹œë¯¼ë“¤ì´ íƒ€ê³  ì˜´.
    *   *ë‹¨ê¸° ì „ëµ*: ì—¬ê¸°ì„œ ìì „ê±°ë¥¼ ìˆ˜ê±°í•˜ì—¬ ì‹œì²­ìœ¼ë¡œ ì´ë™ (Route Optimization).

---

## 4. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Architecture)

### 4.1. ë°ì´í„° íŒŒì´í”„ë¼ì¸ (Data Pipeline)
*   **Source**: ì „ì²´ CSV íˆìŠ¤í† ë¦¬ (2023 ~ 2025)
*   **Preprocessing**: `DataProcessor` í´ë˜ìŠ¤
    *   **14ì¢… í”¼ì²˜**: ëŒ€ì—¬/ë°˜ë‚©/ë„·í”Œë¡œìš°(3) + ì‹œë‚˜ë¦¬ì˜¤ í”¼ì²˜(11: ê³µíœ´ì¼/ì‹œí—˜ê¸°ê°„/í•™ê¸°/ì¶œí‡´ê·¼ ë“±)
    *   **Surrogate Logic**: ë¯¸ë˜ ì˜ˆì¸¡ ì‹œ ìœ ì‚¬í–ˆë˜ 'ê³¼ê±°ì˜ ì˜¤ëŠ˜(Twin Day)' ë°ì´í„°ë¥¼ ë§¥ë½ìœ¼ë¡œ í™œìš©.

### 4.2. ì˜ˆì¸¡ ì—”ì§„ (Prediction Engine)
*   **Class**: `TransformerSeq2One` (in `backend/transformer_predictor.py`)
    *   **Self-Attention**: "ì˜¤ì „ 8ì‹œì˜ ëŒ€ì—¬ê°€ ì˜¤í›„ 6ì‹œì˜ ë¶€ì¡±ì— ì–´ë–¤ ì˜í–¥ì„ ì£¼ëŠ”ê°€?"ë¥¼ ìŠ¤ìŠ¤ë¡œ ê°€ì¤‘ì¹˜ í•™ìŠµ.
    *   **Positional Encoding**: ì‹œê³„ì—´ì˜ ìˆœì„œ ì •ë³´ ë°˜ì˜.

### 4.3. ë°°ì°¨ ìµœì í™” (VRP Engine)
*   **Class**: `VRPDispatcher` (in `backend/vrp_dispatcher.py`)
*   **Logic**:
    1.  ê° ëŒ€ì—¬ì†Œì˜ 12ì‹œê°„ ë’¤ ì¬ê³  ì˜ˆì¸¡ (`Current + Predicted Flow`)
    2.  `ë¶€ì¡±(Deficit)` vs `ê³¼ì‰(Surplus)` ë¶„ë¥˜
    3.  **ê³ ì •ëœ íŠ¸ëŸ­ ëŒ€ìˆ˜(User Input)** ë‚´ì—ì„œ ì´ë™ ê±°ë¦¬ ìµœì†Œí™” ê²½ë¡œ ìƒì„±

---

## 5. ì‹¤í–‰ ê°€ì´ë“œ (User Guide)

### 5.1. ëª¨ë¸ í•™ìŠµ (Re-Training)
ìµœì‹  ë°ì´í„° ë°˜ì˜ ì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤. (ì•½ 3~5ë¶„ ì†Œìš”, CPU ê¸°ì¤€)
```bash
python backend/transformer_predictor.py
```
> **Output**: `model_transform.pt` (í•™ìŠµëœ ëª¨ë¸ íŒŒì¼), ìµœì¢… RMSE, ë„ì‹œ ì „ì²´ ì´ë™ëŸ‰ ë¦¬í¬íŠ¸.

### 5.2. ë¯¸ë˜ ì‹œë®¬ë ˆì´ì…˜ (Simulation)
íŠ¹ì • ë‚ ì§œ(2025-03-10)ì— ëŒ€í•œ ëª¨ì˜ ë°°ì°¨ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
```bash
python backend/simulate_future_day.py
```
> **Output**: ê° íŠ¸ëŸ­ë³„ ìƒì„¸ ì´ë™ ê²½ë¡œ ë° ì‘ì—… ì§€ì‹œì„œ(Supply/Collect).

### 5.3. ë°°ì°¨ ë¼ìš°íŒ… ì‹¤í—˜ (Routing)
íŠ¸ëŸ­ ëŒ€ìˆ˜ë¥¼ ë³€ê²½í•´ê°€ë©° ìµœì ì˜ ìš´ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.
```bash
# íŠ¸ëŸ­ 4ëŒ€ ìš´ì˜ ì‹œ ê²½ë¡œ
python backend/simulate_transformer_route.py 4
```

---
**ì‘ì„±ì¼**: 2026-01-10
**V2.1 ì‘ì„±ì**: Oulring AI Assistant (Antigravity)